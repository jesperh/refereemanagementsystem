<div class="row">
    <div class="col-md-12 header-bg" style="padding:0;">
        <div class="tuho-box-heading">
            <h3>Aseta uusi salasana</h3>
        </div>
        <div class="tuho-full-width-box">
            <div class="col-sm-12">
                <div class="row">
                    <form id="resetPwForm" name="resetPwForm" ng-submit="vm.changePw(resetPwForm.$valid)" novalidate
                          class="form col-sm-12 col-md-6 center-block">
                        <div ng-hide="vm.invalidToken">
                            <p class="">
                                Anna uusi salasana alla oleviin kenttiin.
                            </p>
                            <div class="form-group"
                                 ng-class="{ 'has-error': (resetPwForm.password.$touched || vm.formError) && resetPwForm.password.$invalid }">
                                <input ng-model="vm.password" required ng-minlength="4" type="password"
                                       class="form-control" name="password" id="password" placeholder="Uusi salasana">

                                <div class="help-block" ng-messages="resetPwForm.password.$error"
                                     ng-if="resetPwForm.password.$touched || vm.formError">
                                    <p ng-message="minlength">Salasanan pitää olla vähintään 4 merkkiä.</p>
                                    <p ng-message="required">Tämä on pakollinen kenttä.</p>
                                </div>
                            </div>

                            <div class="form-group"
                                 ng-class="{ 'has-error': (resetPwForm.password2.$touched || vm.formError) && resetPwForm.password2.$invalid }">

                                <input ng-model="vm.password2" ng-model-options="{ debounce: 500 }" required
                                       ng-change="vm.comparePasswords(vm.password, vm.password2)" ng-minlength="4"
                                       type="password" class="form-control" name="password2" id="password2"
                                       placeholder="Toista uusi salasana">


                                <div class="help-block" ng-messages="resetPwForm.password2.$error"
                                     ng-if="resetPwForm.password2.$touched || vm.formError">
                                    <p ng-message="minlength">Salasanan pitää olla vähintään 4 merkkiä.</p>
                                    <p ng-message="required">Tämä on pakollinen kenttä.</p>
                                    <p ng-message="missmatch">Salasanat eivät täsmää.</p>
                                </div>
                            </div>

                            <div class="form-group">
                                <button ng-disabled="vm.isLoading" class="btn btn-primary btn-block"
                                        style="mavmin-bottom:7px;">Vaihda salasana
                                </button>
                            </div>
                        </div>

                        <uib-alert ng-if="vm.serverError==true" type="danger">
                            Palvelimen puolella sattui virhe.. <br/> Jos ongelma toistuu, ota yhteyttä
                            example@example.com &nbsp;
                        </uib-alert>
                        <uib-alert ng-if="vm.invalidToken==true" type="danger">Virhe: Salasananvaihto-linkki on
                            vanhentunut tai virheellinen.<br/>Tilaa uusi linkki <a href="/forgot">täältä.</a>
                        </uib-alert>
                        <uib-alert ng-if="vm.submitted" type="success">Salasana on vaihdettu onnistuneesti. Voit nyt
                            kirjautua sisään uudella salasanallasi.
                        </uib-alert>
                    </form>
                </div>
                <div class="row">
                    <div class="col-md-6 col-sm-12 center-block">
                        <p><a data-login-plain="">Kirjaudu sisään</a> tai <a href="/register">Rekisteröidy</a></p>
                    </div>
                </div>

            </div>
        </div>
        <br/>
    </div>
</div>